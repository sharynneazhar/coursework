\hypertarget{memory__pool_8h}{}\section{src/parsing/memory\+\_\+pool.h File Reference}
\label{memory__pool_8h}\index{src/parsing/memory\+\_\+pool.\+h@{src/parsing/memory\+\_\+pool.\+h}}


An abstraction of malloc that allows for all allocations in the pool to be free\textquotesingle{}d with a single call to \hyperlink{memory__pool_8h_a2a8f807565226a955c94a2c4670ba65f}{destroy\+\_\+memory\+\_\+pool()}. Allocations to the memory pool should N\+OT be manually free\textquotesingle{}d with a call to free().  


{\ttfamily \#include $<$stdlib.\+h$>$}\\*
{\ttfamily \#include \char`\"{}deque.\+h\char`\"{}}\\*
\subsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \hyperlink{memory__pool_8h_a1856c82f260a610e5036434162f5bcb0}{I\+M\+P\+L\+E\+M\+E\+N\+T\+\_\+\+D\+E\+Q\+U\+E\+\_\+\+M\+E\+M\+O\+R\+Y\+\_\+\+P\+O\+OL}(struct\+\_\+name,  type)                                
\begin{DoxyCompactList}\small\item\em Generates a {\itshape \hyperlink{memory__pool_8h_a609473bc6afff33d360a8e0c8935812e}{memory\+\_\+pool\+\_\+alloc()}} based set of functions for use with a structure generated by {\itshape I\+M\+P\+L\+E\+M\+E\+N\+T\+\_\+\+D\+E\+Q\+U\+E\+\_\+\+S\+T\+R\+U\+CT}. \end{DoxyCompactList}\end{DoxyCompactItemize}
\subsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \hyperlink{memory__pool_8h_a1ad04a8d891de237fc5d91191c569777}{initialize\+\_\+memory\+\_\+pool} (size\+\_\+t size)
\begin{DoxyCompactList}\small\item\em Allocate the memory pool. \end{DoxyCompactList}\item 
void $\ast$ \hyperlink{memory__pool_8h_a609473bc6afff33d360a8e0c8935812e}{memory\+\_\+pool\+\_\+alloc} (size\+\_\+t size)
\begin{DoxyCompactList}\small\item\em Reserve some space in the memory pool and returns a unique address that can be written to and read from. This can be thought of exactly like malloc() without the requirement of calling free() directly on the returned pointer. \end{DoxyCompactList}\item 
void \hyperlink{memory__pool_8h_a2a8f807565226a955c94a2c4670ba65f}{destroy\+\_\+memory\+\_\+pool} ()\hypertarget{memory__pool_8h_a2a8f807565226a955c94a2c4670ba65f}{}\label{memory__pool_8h_a2a8f807565226a955c94a2c4670ba65f}

\begin{DoxyCompactList}\small\item\em Free all memory allocated in the memory pool. \end{DoxyCompactList}\item 
char $\ast$ \hyperlink{memory__pool_8h_a7d92ccd7e51eb71624f07b4e917869aa}{memory\+\_\+pool\+\_\+strdup} (const char $\ast$str)
\begin{DoxyCompactList}\small\item\em A version of strdup() that allocates the duplicate to the memory pool rather than with malloc directly. \end{DoxyCompactList}\end{DoxyCompactItemize}


\subsection{Detailed Description}
An abstraction of malloc that allows for all allocations in the pool to be free\textquotesingle{}d with a single call to \hyperlink{memory__pool_8h_a2a8f807565226a955c94a2c4670ba65f}{destroy\+\_\+memory\+\_\+pool()}. Allocations to the memory pool should N\+OT be manually free\textquotesingle{}d with a call to free(). 

\begin{DoxyWarning}{Warning}
F\+OR T\+HE Q\+U\+A\+SH P\+R\+O\+J\+E\+CT, DO N\+OT U\+SE OR C\+O\+PY A\+NY OF T\+H\+E\+SE F\+U\+N\+C\+T\+I\+O\+NS Y\+O\+U\+R\+S\+E\+LF. This is a simple garbage collector to fix memory leak problems resulting from the parser, generated by bison, encountering syntax errors in the input that would be very difficult or impossible to fix without this mechanism. Generally, hand crafted c code should be able to manage it\textquotesingle{}s heap allocations directly with malloc and free. We would like for you to become comfortable with malloc based memory management. Y\+OU W\+I\+LL BE P\+E\+N\+A\+L\+I\+Z\+ED F\+OR U\+S\+I\+NG A\+N\+Y\+T\+H\+I\+NG IN T\+H\+IS F\+I\+LE TO H\+I\+DE M\+E\+M\+O\+RY L\+E\+A\+KS.

The memory pool allocations are not thread safe 
\end{DoxyWarning}


\subsection{Macro Definition Documentation}
\index{memory\+\_\+pool.\+h@{memory\+\_\+pool.\+h}!I\+M\+P\+L\+E\+M\+E\+N\+T\+\_\+\+D\+E\+Q\+U\+E\+\_\+\+M\+E\+M\+O\+R\+Y\+\_\+\+P\+O\+OL@{I\+M\+P\+L\+E\+M\+E\+N\+T\+\_\+\+D\+E\+Q\+U\+E\+\_\+\+M\+E\+M\+O\+R\+Y\+\_\+\+P\+O\+OL}}
\index{I\+M\+P\+L\+E\+M\+E\+N\+T\+\_\+\+D\+E\+Q\+U\+E\+\_\+\+M\+E\+M\+O\+R\+Y\+\_\+\+P\+O\+OL@{I\+M\+P\+L\+E\+M\+E\+N\+T\+\_\+\+D\+E\+Q\+U\+E\+\_\+\+M\+E\+M\+O\+R\+Y\+\_\+\+P\+O\+OL}!memory\+\_\+pool.\+h@{memory\+\_\+pool.\+h}}
\subsubsection[{\texorpdfstring{I\+M\+P\+L\+E\+M\+E\+N\+T\+\_\+\+D\+E\+Q\+U\+E\+\_\+\+M\+E\+M\+O\+R\+Y\+\_\+\+P\+O\+OL}{IMPLEMENT\_DEQUE\_MEMORY\_POOL}}]{\setlength{\rightskip}{0pt plus 5cm}\#define I\+M\+P\+L\+E\+M\+E\+N\+T\+\_\+\+D\+E\+Q\+U\+E\+\_\+\+M\+E\+M\+O\+R\+Y\+\_\+\+P\+O\+OL(
\begin{DoxyParamCaption}
\item[{}]{struct\+\_\+name, }
\item[{}]{type}
\end{DoxyParamCaption}
)}\hypertarget{memory__pool_8h_a1856c82f260a610e5036434162f5bcb0}{}\label{memory__pool_8h_a1856c82f260a610e5036434162f5bcb0}


Generates a {\itshape \hyperlink{memory__pool_8h_a609473bc6afff33d360a8e0c8935812e}{memory\+\_\+pool\+\_\+alloc()}} based set of functions for use with a structure generated by {\itshape I\+M\+P\+L\+E\+M\+E\+N\+T\+\_\+\+D\+E\+Q\+U\+E\+\_\+\+S\+T\+R\+U\+CT}. 


\begin{DoxyParams}{Parameters}
{\em struct\+\_\+name} & The name of the structure\\
\hline
{\em type} & The name of the type of elements stored in the {\itshape struct\+\_\+name} structure\\
\hline
\end{DoxyParams}
\begin{DoxySeeAlso}{See also}
\hyperlink{deque_8h_ad1734634a88d702478c08e26e39dc7b8}{I\+M\+P\+L\+E\+M\+E\+N\+T\+\_\+\+D\+E\+Q\+U\+E\+\_\+\+S\+T\+R\+U\+CT}, \hyperlink{deque_8h_a20e8006e6767304fca356f057bc319f4}{P\+R\+O\+T\+O\+T\+Y\+P\+E\+\_\+\+D\+E\+Q\+UE}, \hyperlink{memory__pool_8h_a1856c82f260a610e5036434162f5bcb0}{I\+M\+P\+L\+E\+M\+E\+N\+T\+\_\+\+D\+E\+Q\+U\+E\+\_\+\+M\+E\+M\+O\+R\+Y\+\_\+\+P\+O\+OL}, \hyperlink{memory__pool_8h_a609473bc6afff33d360a8e0c8935812e}{memory\+\_\+pool\+\_\+alloc()} 
\end{DoxySeeAlso}


\subsection{Function Documentation}
\index{memory\+\_\+pool.\+h@{memory\+\_\+pool.\+h}!initialize\+\_\+memory\+\_\+pool@{initialize\+\_\+memory\+\_\+pool}}
\index{initialize\+\_\+memory\+\_\+pool@{initialize\+\_\+memory\+\_\+pool}!memory\+\_\+pool.\+h@{memory\+\_\+pool.\+h}}
\subsubsection[{\texorpdfstring{initialize\+\_\+memory\+\_\+pool(size\+\_\+t size)}{initialize\_memory\_pool(size\_t size)}}]{\setlength{\rightskip}{0pt plus 5cm}void initialize\+\_\+memory\+\_\+pool (
\begin{DoxyParamCaption}
\item[{size\+\_\+t}]{size}
\end{DoxyParamCaption}
)}\hypertarget{memory__pool_8h_a1ad04a8d891de237fc5d91191c569777}{}\label{memory__pool_8h_a1ad04a8d891de237fc5d91191c569777}


Allocate the memory pool. 


\begin{DoxyParams}{Parameters}
{\em size} & The initial size of the memory pool. If this value is zero then a default size of one is used. \\
\hline
\end{DoxyParams}
\index{memory\+\_\+pool.\+h@{memory\+\_\+pool.\+h}!memory\+\_\+pool\+\_\+alloc@{memory\+\_\+pool\+\_\+alloc}}
\index{memory\+\_\+pool\+\_\+alloc@{memory\+\_\+pool\+\_\+alloc}!memory\+\_\+pool.\+h@{memory\+\_\+pool.\+h}}
\subsubsection[{\texorpdfstring{memory\+\_\+pool\+\_\+alloc(size\+\_\+t size)}{memory\_pool\_alloc(size\_t size)}}]{\setlength{\rightskip}{0pt plus 5cm}void$\ast$ memory\+\_\+pool\+\_\+alloc (
\begin{DoxyParamCaption}
\item[{size\+\_\+t}]{size}
\end{DoxyParamCaption}
)}\hypertarget{memory__pool_8h_a609473bc6afff33d360a8e0c8935812e}{}\label{memory__pool_8h_a609473bc6afff33d360a8e0c8935812e}


Reserve some space in the memory pool and returns a unique address that can be written to and read from. This can be thought of exactly like malloc() without the requirement of calling free() directly on the returned pointer. 


\begin{DoxyParams}{Parameters}
{\em size} & Size in bytes of the requested reserved space\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A pointer to a unique array of size bytes 
\end{DoxyReturn}
\index{memory\+\_\+pool.\+h@{memory\+\_\+pool.\+h}!memory\+\_\+pool\+\_\+strdup@{memory\+\_\+pool\+\_\+strdup}}
\index{memory\+\_\+pool\+\_\+strdup@{memory\+\_\+pool\+\_\+strdup}!memory\+\_\+pool.\+h@{memory\+\_\+pool.\+h}}
\subsubsection[{\texorpdfstring{memory\+\_\+pool\+\_\+strdup(const char $\ast$str)}{memory\_pool\_strdup(const char *str)}}]{\setlength{\rightskip}{0pt plus 5cm}char$\ast$ memory\+\_\+pool\+\_\+strdup (
\begin{DoxyParamCaption}
\item[{const char $\ast$}]{str}
\end{DoxyParamCaption}
)}\hypertarget{memory__pool_8h_a7d92ccd7e51eb71624f07b4e917869aa}{}\label{memory__pool_8h_a7d92ccd7e51eb71624f07b4e917869aa}


A version of strdup() that allocates the duplicate to the memory pool rather than with malloc directly. 


\begin{DoxyParams}{Parameters}
{\em str} & Pointer to the string to duplicate\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
A copy of str allocated in the memory pool 
\end{DoxyReturn}
